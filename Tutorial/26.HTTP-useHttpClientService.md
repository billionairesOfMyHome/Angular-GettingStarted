# send an HTTP Request

调用 HttpClient service 的 get 方法，该方法返回一个 observable 对象。当 subscribe 该 observable 时，HttpClient service 会向 Web 服务器发送 get 请求。Web 服务器响应返回到 HttpClient service，observable 对象 emits next 通知，提供响应。

We call the get method of the HttpClient service, which returns an observable. When we subscribe to that observable, the HttpClient service sends a get request to the web server. The web server response is returned to the HttpClient service, and the observable emits the next notification, providing the response. 

<img src="imgs\http8.png" style="zoom:50%;" />

## register HttpClient service

HttpClientModule 提供了 HttpClient service，把 HttpClientModule import 进要使用它的 Module 中以使用 HttpClient service。

The HTTP service provider registration is done for us in the HttpClientModule. To include the features of this external package in our application, we add it to the imports array of our application's Angular module, AppModule.

<img src="imgs\http9.png" style="zoom:50%;" />

<img src="imgs\http10.png" style="zoom:50%;" />

## inject HttpClient service dependency

将泛型参数设置为 IProduct 数组。然后，get 方法会自动将从后端服务器返回的响应映射成定义的类型。

We set the generic parameter to IProduct array. The get method then automatically maps the response returned from the back‑end server to the defined type so we don't have to. 

<img src="imgs\http11.png" style="zoom:50%;" />

## exception handling

We'll just log to the console and throw an error to the calling code.

JSON.stringify 是一种 JavaScript 方法，用于将对象或对象数组转换为 JSON 字符串。这样可以更轻松地在控制台中显示。

JSON.stringify is a JavaScript method that converts an object or array of objects to a JSON string. This makes it easier to display in the console.

<img src="imgs\http14.png" style="zoom:50%;" />

# subscribe to an observable

<img src="imgs\http15.png" style="zoom:50%;" />

由于 HTTP 调用是单个异步操作，也就是说 only one item is emitted，这个 item 是在 service 中被映射为 IProduct array 的 HTTP response 对象。next 的参数就是 products array。

Since HTTP calls are single async operations, only one item is emitted, which is the HTTP response object that was mapped to our product array in the service. So the parameter is array of products.

<img src="imgs\http16.png" style="zoom:50%;" />

<img src="imgs\http17.png" style="zoom:50%;" />

# use JSON file in src

使用 src 中的资源，需要在 assets array 中 定义路径，以便 Angular CLI 在启动应用时可以找到。

We do need to define the location of this JSON file so that the Angular CLI can find it when it serves up the application.

<img src="imgs\http12.png" style="zoom:50%;" />

<img src="imgs\http13.png" style="zoom:50%;" />

# 小结

<img src="imgs\http18.png" style="zoom:50%;" />

<img src="imgs\http19.png" style="zoom:50%;" />

<img src="imgs\http20.png" style="zoom:50%;" />

<img src="imgs\http21.png" style="zoom:50%;" />

<img src="imgs\http22.png" style="zoom:50%;" />
